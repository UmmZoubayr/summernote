<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Summernote in FlutterFlow</title>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js"></script>

    <!-- Summernote -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.18/summernote-lite.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.18/summernote-lite.min.js"></script>

    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        #editor { width: 100%; height: 300px; }
        button { margin-top: 10px; padding: 10px; font-size: 16px; }
    </style>
</head>
<body>

    <h2>Summernote Editor</h2>
    <textarea id="editor">Loading...</textarea>
    <button onclick="saveContent()">Save to Firebase</button>

    <script>
        // 🔥 Initialize Firebase (Replace with Your Firebase Config)
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_PROJECT_ID.appspot.com",
            messagingSenderId: "YOUR_SENDER_ID",
            appId: "YOUR_APP_ID"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // 🌍 Initialize Summernote
        $(document).ready(function() {
            $('#editor').summernote({
                height: 300,
                placeholder: 'Type here...',
                toolbar: [
                    ['style', ['bold', 'italic', 'underline', 'clear']],
                    ['font', ['fontsize', 'color']],
                    ['para', ['ul', 'ol', 'paragraph']],
                    ['insert', ['link', 'picture', 'video']],
                    ['view', ['fullscreen', 'codeview', 'help']]
                ]
            });

            // 🔄 Load Content from Firestore
            db.collection("documents").doc("user_text")
                .get().then((doc) => {
                    if (doc.exists) {
                        $('#editor').summernote('code', doc.data().content);
                    }
                });
        });

        // 💾 Save Content to Firestore
        function saveContent() {
            var content = $('#editor').summernote('code');
            db.collection("documents").doc("user_text").set({ content: content })
                .then(() => { alert("Text saved successfully!"); })
                .catch((error) => { console.error("Error saving text: ", error); });
        }
    </script>

</body>
</html>
